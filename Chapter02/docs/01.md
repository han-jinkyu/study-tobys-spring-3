# 1. UserDaoTest 다시 보기

## 2.1 테스트의 유용성

- UserDaoTest를 통해 기능이 설계한대로 돌아가는지 확인한 덕분에 개선하는 과정에서도 불안하지 않을 수 있었다.
- 테스트란 내가 예상하고 의도한 대로 코드가 동작하는지 확인하게 해주는 작업이다.

## 2.2 UserDaoTest의 특징

- UserDaoTest의 특징은 다음과 같다.
    - main() 메서드를 이용한다.
    - 테스트 대상인 UserDao의 오브젝트를 가져와 메서드를 호출한다.
    - 테스트에 사용할 입력 값을 직접 만들어 넣어준다.
    - 결과를 콘솔에 출력한다.
    - 에러 없이 끝나면 콘솔에 성공 메시지를 출력한다.

### 웹을 통한 DAO 테스트 방법의 문제점

- 보통 웹 프로그램에서 DAO를 테스트하려면 모든 계층을 다 구현하고 웹 화면에서 테스트한다.
- 모든 계층을 다 구현하고서야 테스트가 가능하다는 점은 큰 문제다.
- 그 계층 가운데 하나라도 에러가 나면 동작하지 않기 때문에 원인 찾기가 어렵다.

### 작은 단위의 테스트

- 테스트하고자 하는 대상이 명확하다면 그 대상에만 집중해서 테스트하는 것이 바람직하다. (관심사 분리)
- UserDaoTest는 한 가지 관심에 집중할 수 있게 작은 단위로 만들어진 테스트다.
- 이렇게 작은 단위의 코드에 대해 테스트를 수행하는 것을 `단위 테스트(unit test)`라 한다.
- 외부 리소스(DB 등)에 의존하는 테스트는 단위 테스트가 아니라고 보기도 한다.
    - DB 같은 경우 테스트를 위해 특정 상태로 만들어줄 수 있다면 단위 테스트라 볼 수 있다.
- 전체 기능을 하나로 묶어서 테스트 하는 경우도 있지만, 단위 테스트를 먼저 진행하고 나면 테스트를 진행할 때 훨씬 수월하다.

### 자동수행 테스트 코드

- UserDaoTest의 한 가지 특징은 코드를 통해 테스트 한다는 점이다.
- 애플리케이션을 구성하는 클래스 안에 테스트 코드를 포함하는 것보단 별도로 테스트용 클래스를 만드는 게 좋다.
- 자동으로 수행되는 테스트의 장점은 `자주 반복할 수 있다는 것`이다.

### 지속적인 개선과 점진적인 개발을 위한 테스트

- 테스트가 없다면, 다양한 방법을 동원해서 코드를 수정하고 설계를 개선해나가는 것이 미덥지 않을 수 있다.
- UserDao에 기능을 추가할 때도 가장 단순한 기능을 추가하고 테스트로 검증하면 코드에 대한 확신을 가질 수 있다.


## 1.3 UserDaoTest의 문제점

- 수동 확인 작업의 번거로움
    - 출력할 뿐이므로 값이 맞는지는 직접 확인해야 한다.
    - 그렇기 때문에 완전한 자동화라고 할 수 없다.
- 실행 작업의 번거로움
    - 수많은 main() 메서드가 존재한다고 생각하면 실행하기 힘들다.

---
[목록](./index.md)
